<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css"><link rel="stylesheet" href="css/L.Control.Locate.min.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet-search.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>Reviving India's Rich History</title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script><script src="js/L.Control.Locate.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-search.js"></script>
        <script src="data/StatesinIndia_2.js"></script>
        <script src="data/LocationsofMonuments_3.js"></script>
        <script>
        var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString') {
              highlightLayer.setStyle({
                color: '#530680',
              });
            } else {
              highlightLayer.setStyle({
                fillColor: '#530680',
                fillOpacity: 1
              });
            }
            highlightLayer.openPopup();
        }
        var map = L.map('map', {
            zoomControl:true, maxZoom:28, minZoom:1
        })
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        L.control.locate({locateOptions: {maxZoom: 19}}).addTo(map);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds());
            }
        }
        map.createPane('pane_OSMstandardmap_0');
        map.getPane('pane_OSMstandardmap_0').style.zIndex = 400;
        var layer_OSMstandardmap_0 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OSMstandardmap_0',
            opacity: 1.0,
            attribution: '<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap contributors, CC-BY-SA</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        layer_OSMstandardmap_0;
        map.addLayer(layer_OSMstandardmap_0);
        map.createPane('pane_WhiteBaseMap_1');
        map.getPane('pane_WhiteBaseMap_1').style.zIndex = 401;
        var layer_WhiteBaseMap_1 = L.tileLayer('https://a.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}@2x.png', {
            pane: 'pane_WhiteBaseMap_1',
            opacity: 1.0,
            attribution: '<a href="https://cartodb.com/basemaps/">Map tiles by CartoDB, under CC BY 3.0. Data by OpenStreetMap, under ODbL.</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 20
        });
        layer_WhiteBaseMap_1;
        map.addLayer(layer_WhiteBaseMap_1);
        function pop_StatesinIndia_2(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">State</th>\
                        <td>' + (feature.properties['NAME_1'] !== null ? autolinker.link(feature.properties['NAME_1'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_StatesinIndia_2_0() {
            return {
                pane: 'pane_StatesinIndia_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(235,230,237,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_StatesinIndia_2');
        map.getPane('pane_StatesinIndia_2').style.zIndex = 402;
        map.getPane('pane_StatesinIndia_2').style['mix-blend-mode'] = 'normal';
        var layer_StatesinIndia_2 = new L.geoJson(json_StatesinIndia_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_StatesinIndia_2',
            layerName: 'layer_StatesinIndia_2',
            pane: 'pane_StatesinIndia_2',
            onEachFeature: pop_StatesinIndia_2,
            style: style_StatesinIndia_2_0,
        });
        bounds_group.addLayer(layer_StatesinIndia_2);
        map.addLayer(layer_StatesinIndia_2);
        function pop_LocationsofMonuments_3(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (i in e.target._eventParents) {
                        e.target._eventParents[i].resetStyle(e.target);
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Latitude</th>\
                        <td>' + (feature.properties['latitude'] !== null ? autolinker.link(feature.properties['latitude'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Longitude</th>\
                        <td>' + (feature.properties['longitude'] !== null ? autolinker.link(feature.properties['longitude'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Monument</th>\
                        <td>' + (feature.properties['monumentna'] !== null ? autolinker.link(feature.properties['monumentna'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Location</th>\
                        <td>' + (feature.properties['location'] !== null ? autolinker.link(feature.properties['location'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">District</th>\
                        <td>' + (feature.properties['district'] !== null ? autolinker.link(feature.properties['district'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">State</th>\
                        <td>' + (feature.properties['state'] !== null ? autolinker.link(feature.properties['state'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">ASI Circle</th>\
                        <td>' + (feature.properties['asicircle'] !== null ? autolinker.link(feature.properties['asicircle'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_LocationsofMonuments_3_0() {
            return {
                pane: 'pane_LocationsofMonuments_3',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(102,13,147,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_LocationsofMonuments_3');
        map.getPane('pane_LocationsofMonuments_3').style.zIndex = 403;
        map.getPane('pane_LocationsofMonuments_3').style['mix-blend-mode'] = 'normal';
        var layer_LocationsofMonuments_3 = new L.geoJson(json_LocationsofMonuments_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_LocationsofMonuments_3',
            layerName: 'layer_LocationsofMonuments_3',
            pane: 'pane_LocationsofMonuments_3',
            onEachFeature: pop_LocationsofMonuments_3,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_LocationsofMonuments_3_0(feature));
            },
        });
        bounds_group.addLayer(layer_LocationsofMonuments_3);
        map.addLayer(layer_LocationsofMonuments_3);
            var title = new L.Control();
            title.onAdd = function (map) {
                this._div = L.DomUtil.create('div', 'info');
                this.update();
                return this._div;
            };
            title.update = function () {
                this._div.innerHTML = '<h2>Reviving India\'s Rich History</h2>';
            };
            title.addTo(map);
            var abstract = new L.Control({'position':'bottomright'});
            abstract.onAdd = function (map) {
                this._div = L.DomUtil.create('div',
                'leaflet-control abstract');
                this._div.id = 'abstract'
                    this._div.setAttribute("onmouseenter", "abstract.show()");
                    this._div.setAttribute("onmouseleave", "abstract.hide()");
                    this.hide();
                    return this._div;
                };
                abstract.hide = function () {
                    this._div.classList.remove("abstractUncollapsed");
                    this._div.classList.add("abstract");
                    this._div.innerHTML = 'i'
                }
                abstract.show = function () {
                    this._div.classList.remove("abstract");
                    this._div.classList.add("abstractUncollapsed");
                    this._div.innerHTML = 'A simple google search shows us 1000s of unexplored and forgotten heritage sites. Our nation\'s past is not merely a collection of dates and events; it is a living testament to the genius, resilience, and artistic brilliance of our ancestors. These monuments are not mere relics; they are windows into our shared heritage, connecting us to our roots and inspiring generations to come, and it is unfortunate that we forget about these places. Hence we have created  a map that encapsulates India\'s historical gems. As you navigate through the map, each point will represent a jewel from our past.The latitude and longitude coordinates will allow us to precisely locate these monuments on the map, while the name of the monument will transport us to an era long gone. Furthermore, we will discover the district and state to which each monument belongs, providing us with a glimpse into the geographical diversity that enriches our nation.This interactive and immersive experience is designed to evoke a sense of wonder, intrigue, and appreciation for our incredible cultural heritage';
            };
            abstract.addTo(map);
        var baseMaps = {};
        L.control.layers(baseMaps,{'<img src="legend/LocationsofMonuments_3.png" /> Locations of Monuments': layer_LocationsofMonuments_3,'<img src="legend/StatesinIndia_2.png" /> States in India': layer_StatesinIndia_2,"White Base Map": layer_WhiteBaseMap_1,"OSM standard map": layer_OSMstandardmap_0,}).addTo(map);
        setBounds();
        map.addControl(new L.Control.Search({
            layer: layer_LocationsofMonuments_3,
            initial: false,
            hideMarkerOnCollapse: true,
            propertyName: 'monumentna'}));
        document.getElementsByClassName('search-button')[0].className +=
         ' fa fa-binoculars';
        </script>
    </body>
</html>
